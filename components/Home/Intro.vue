
<template>
  <div class="space-y-6">
    <h1 class="text-xl font-bold tracking-tight text-gray-800 dark:text-gray-100">
      ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô!
    </h1>

    <!-- üîî ‡πÅ‡∏ñ‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® -->
    <div class="relative overflow-hidden" aria-label="announcement">
      <div
        class="flex items-center space-x-3 px-4 py-3 rounded-md bg-yellow-100 text-yellow-900 font-medium animate-slide-in shadow-sm"
      >
        <span class="text-xl">üì¢</span>
        <span>{{ announcement }}</span>
      </div>
    </div>


    <!-- ‡∏õ‡∏∏‡πà‡∏°login - Register -->
      <div class="flex space-x-4">
        <!-- Login Button -->
        <NuxtLink
          to="/auth/signin"
          class="px-6 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white font-semibold rounded-lg shadow-md hover:shadow-lg hover:brightness-110 transition inline-block"
        >
          ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö
        </NuxtLink>

        <!-- Register Button -->
        <NuxtLink
          to="/auth/register"
          class="px-6 py-2 bg-gradient-to-r from-green-400 to-emerald-600 text-white font-semibold rounded-lg shadow-md hover:shadow-lg hover:brightness-110 transition inline-block"
        >
          ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å
        </NuxtLink>
      </div>

    <!-- üß© ‡∏õ‡∏∏‡πà‡∏°‡∏ï‡πà‡∏≤‡∏á ‡πÜ ‡πÅ‡∏ö‡∏ö Card Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
      <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏ï‡πà‡∏≤‡∏á ‡πÜ ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° ... -->
      <NuxtLink to="/Booking/" class="block p-4 rounded-lg shadow bg-blue-600 text-white hover:bg-blue-700 transition">
        <span class="text-lg">ü™ë</span> ‡∏à‡∏≠‡∏á‡πÇ‡∏ï‡πä‡∏∞
      </NuxtLink>
      <NuxtLink to="/Menu/menulist" class="block p-4 rounded-lg shadow bg-green-600 text-white hover:bg-green-700 transition">
        <span class="text-lg">üçΩÔ∏è</span> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£
      </NuxtLink>
      <NuxtLink to="/Tickets/ticketlist" class="block p-4 rounded-lg shadow bg-purple-600 text-white hover:bg-purple-700 transition">
        <span class="text-lg">üéüÔ∏è</span> ‡∏ã‡∏∑‡πâ‡∏≠‡∏ï‡∏±‡πã‡∏ß‡πÄ‡∏Ç‡πâ‡∏≤‡∏á‡∏≤‡∏ô
      </NuxtLink>
      <NuxtLink to="/Message/send-message" class="block p-4 rounded-lg shadow bg-yellow-600 text-white hover:bg-yellow-700 transition">
        <span class="text-lg">üí¨</span> ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡∏à‡∏≠
      </NuxtLink>
      <NuxtLink to="/Review/Reviewlist" class="block p-4 rounded-lg shadow bg-red-600 text-white hover:bg-red-700 transition">
        <span class="text-lg">‚≠ê</span> ‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏£‡πâ‡∏≤‡∏ô
      </NuxtLink>
      <NuxtLink to="https://maps.app.goo.gl/9M283TiMKPTXhzBH6" class="block p-4 rounded-lg shadow bg-pink-600 text-white hover:bg-pink-700 transition">
        <span class="text-lg">üìç</span> ‡πÇ‡∏•‡πÄ‡∏Ñ‡∏ä‡∏±‡πà‡∏ô‡∏£‡πâ‡∏≤‡∏ô
      </NuxtLink>
    </div>

    <!-- üé´ ‡∏™‡πà‡∏ß‡∏ô‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠ Tickets -->
 <div v-if="pending" class="pt-10 text-center">
    ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°...
  </div>

  <div v-else-if="publicEvents && publicEvents.length > 0" class="pt-10 border-t border-gray-200 dark:border-gray-700">
    <div class="flex items-center justify-between mb-4 px-2 sm:px-0">
      <div class="flex items-center space-x-2">
        <span class="text-2xl">üé´</span>
        <h2 class="text-xl font-semibold text-gray-800 dark:text-gray-100">
          ‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏°‡∏≤‡∏ñ‡∏∂‡∏á
        </h2>
      </div>
      <NuxtLink to="/events" class="text-sm text-blue-600 hover:underline">
        ‡∏î‡∏π‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚Üí
      </NuxtLink>
    </div>

    <div class="flex space-x-4 overflow-x-auto px-2 pb-4 scroll-smooth scrollbar-hide">
      <div
        v-for="event in publicEvents"
        :key="event.id"
        class="flex-none w-64 bg-gradient-to-br from-indigo-500 to-indigo-700 text-white rounded-xl shadow-lg p-4"
      >
        <img
          :src="event.cover_image_url || 'https://placehold.co/600x400/EEE/31343C?text=Event'"
          alt="Event Cover Image"
          class="rounded-md mb-3 w-full h-36 object-cover shadow-md border border-white/20"
        />
        <h3 class="font-semibold text-lg mb-1 truncate">
          {{ event.name }}
        </h3>
        <p class="text-sm opacity-90 mb-3">
          üìÖ {{ new Date(event.event_date).toLocaleDateString('th-TH') }}
        </p>
        <span class="px-2 py-0.5 text-xs rounded-full" 
              :class="{'bg-green-400 text-green-900': event.calculatedStatus === '‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°', 'bg-blue-300 text-blue-900': event.calculatedStatus === '‡πÄ‡∏£‡πá‡∏ß‡πÜ ‡∏ô‡∏µ‡πâ'}">
          {{ event.calculatedStatus }}
        </span>
      </div>
    </div>
  </div>
  </div>
</template>

<script setup>
import { ref } from 'vue';
const { data: publicEvents, pending } = await useFetch('/api/events?scope=public')
const announcement = ref("‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©! ‡∏à‡∏≠‡∏á‡πÇ‡∏ï‡πä‡∏∞‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡∏£‡∏±‡∏ö‡∏ü‡∏£‡∏µ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏° 1 ‡πÅ‡∏Å‡πâ‡∏ß üçπ");

const events = ref([
  {
    id: 1,
    title: "‡∏á‡∏≤‡∏ô‡∏î‡∏ô‡∏ï‡∏£‡∏µ‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á",
    date: "20 ‡∏°‡∏¥.‡∏¢. 2568",
    image: "",
    link: "",
  },
  // {
  //   id: 2,
  //   title: "‡πÄ‡∏ß‡∏¥‡∏£‡πå‡∏Å‡∏ä‡πá‡∏≠‡∏õ‡∏ó‡∏≥‡∏≠‡∏≤‡∏´‡∏≤‡∏£",
  //   date: "25 ‡∏°‡∏¥.‡∏¢. 2568",
  //   image: "/events/cooking-workshop.jpg",
  //   link: "/tickets/cooking-workshop",
  // },
  // {
  //   id: 3,
  //   title: "‡πÅ‡∏Å‡∏•‡πÄ‡∏•‡∏≠‡∏£‡∏µ‡πà‡∏á‡∏≤‡∏ô‡∏®‡∏¥‡∏•‡∏õ‡∏∞",
  //   date: "30 ‡∏°‡∏¥.‡∏¢. 2568",
  //   image: "/events/art-exhibition.jpg",
  //   link: "/tickets/art-exhibition",
  // },
]);
</script>

<style scoped>
@keyframes slide-in {
  from {
    transform: translateX(-100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.animate-slide-in {
  animation: slide-in 0.5s ease-out;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
</style>